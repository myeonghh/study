<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>가위바위보 게임</title>

    <style>
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }

    </style>
  </head>

  <body>
    <h1>가위바위보 게임</h1>

    <li style="margin-bottom:5px;">게임시작을 누르면 랜덤값으로 가위,바위,보중 하나가 지정됩니다.</li>
    <li style="margin-bottom:15px;">유저도 가위,바위,보중에 하나를 선택하고 결과를 확인합니다.</li>
    <div class="setDigitForm">
      <input type="button" value="게임시작" class="setPrsSubmit" style="width:310px;">
    </div>
	
    <div class="form" style="margin-top:40px;">
      <input type="button" id="btnScissors" value="가위" class="btnScissors" style="width:100px;">
      <input type="button" id="btnRock" value="바위" class="btnRock" style="width:100px;">
      <input type="button" id="btnPaper" value="보" class="btnPaper" style="width:100px;">
    </div>

    <div class="resultArea" style="margin-top:40px;">
      <span>승패여부는 여기에!!</span>
    </div>

    <script>
        var pcChoice;
        var resultText;
        var rpsObj = {'가위' : '✌🏻', '바위' : '✊🏻', '보' : '🖐🏻'};

        var resultArea = document.getElementsByClassName('resultArea')[0];
        var gameStartBtn = document.getElementsByClassName('setPrsSubmit')[0];
        var rpsBtn = document.getElementsByClassName('form')[0].getElementsByTagName('input');

        function btnOn(_rpsBtn){
            for(var i = 0; i < _rpsBtn.length; i++){
                _rpsBtn[i].disabled = false;
            };
        }

        function btnOff(_rpsBtn){
            for(var i = 0; i < _rpsBtn.length; i++){
                _rpsBtn[i].disabled = true;
            };
        }

        btnOff(rpsBtn);

        gameStartBtn.addEventListener('click', function(){
            pcChoice = Object.keys(rpsObj)[Math.floor(Math.random() * 3)];
            console.log(pcChoice);
            resultArea.innerHTML = '<span>승패여부는 여기에!!</span>';
            btnOn(rpsBtn);
        });

        for(var i = 0; i < 3; i++){
            rpsBtn[i].addEventListener('click', function(){
                console.log(this.value);
                btnOff(rpsBtn);
                
                resultText = 'USER ' + rpsObj[this.value] + ' vs ' + rpsObj[pcChoice] + ' PC';
                if(this.value === pcChoice){
                    resultArea.innerHTML = '<h3>' + resultText + ' ==> 비겼습니다! 😪 </h3>';
                }else if(this.value === '가위' && pcChoice === '보' || this.value === '바위' && pcChoice === '가위' || this.value === '보' && pcChoice === '바위'){
                    resultArea.innerHTML = '<h3>' + resultText + ' ==> 승리했습니다! 😃 </h3>';
                }else{
                    resultArea.innerHTML = '<h3>' + resultText + ' ==> 패배했습니다! 😥 </h3>';
                };
            });
        };

        
    </script>
  </body>
</html>
