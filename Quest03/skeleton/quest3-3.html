<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <title>êµ¬êµ¬ë‹¨ ê²Œì„</title>

    <style>
        body {
            width: 50%;
            max-width: 800px;
            min-width: 480px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <h1>êµ¬êµ¬ë‹¨ ê²Œì„</h1>

    <li style="margin-bottom:5px;">ëœë¤ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìë¦¿ìˆ˜ëŠ” 3ì…ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">ìë¦¿ìˆ˜ë¥¼ ë“±ë¡í•˜ë©´ í•´ë‹¹ ìë¦¿ìˆ˜ í¬ê¸°ì˜ ìˆ«ì 2ê°œê°€ ëœë¤ìœ¼ë¡œ í‘œì‹œ ë©ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">ëœë¤ìœ¼ë¡œ í‘œì‹œë˜ëŠ” 2ê°œ ìˆ«ìì˜ ê³±ì…ˆê°’ì„ ê¸°ë¡í•˜ì„¸ìš”.</li>
    <div class="setDigitForm">
        <label for="setDigitNum">ìë¦¿ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”: </label>
        <input type="text" id="setDigitNum" class="setDigitNum">
        <input type="submit" value="ë“±ë¡" class="setDigitSubmit">
    </div>

    <div class="form" style="margin-top:40px;">
        <sapn id="randA">ëœë¤ê°’A</sapn> X <sapn id="randB">ëœë¤ê°’B</sapn> = <input type="text" id="guessField"
            class="guessField">
        <input type="submit" value="ì •ë‹µí™•ì¸" class="guessSubmit">
    </div>

    <div class="resultArea" style="margin-top:40px;">
        <span>ì •ë‹µì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>
    </div>

    <script>
        // 1. ìë¦¿ìˆ˜ì— ë§ê²Œ ëœë¤ ìˆ«ìë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°
        // 2. ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  ëœë¤ ìˆ«ìì˜ ê³±ì…ˆê³¼ ì¼ì¹˜í•œì§€ ì •ë‹µì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°

        /**
        -ëœë¤ìˆ«ì í•¨ìˆ˜
        Math.random() => 0 ~ 1 ì‚¬ì´ì˜ ë‚œìˆ˜ ìƒì„±
        Math.floor() => ì†Œìˆ˜ì  ì œê±°
  
        -ëœë¤ ìˆ«ì ìµœëŒ€ê°’ ìµœì†Œê°’ ì§€ì •í•˜ê¸°
        Math.random()*(ìµœëŒ€ê°’ - ìµœì†Œê°’) + ìµœì†Œê°’
        
        -ëœë¤ ìˆ«ì ìµœëŒ€ê°’ ìµœì†Œê°’ ì§€ì •í•´ì„œ ì •ìˆ˜ë§Œ ë½‘ê¸°
        ==>Math.floor(Math.random()*(ìµœëŒ€ê°’ - ìµœì†Œê°’) + ìµœì†Œê°’) + 1  min <= ran < max
        */

        //ë³€ìˆ˜
        var ranNum1;
        var ranNum2;
        var digitNum;
        var guessNum;

        // DOM
        var randA = document.getElementById('randA');
        var randB = document.getElementById('randB');
        var resultArea = document.getElementsByClassName('resultArea')[0].getElementsByTagName('span')[0];
        var digitNumField = document.getElementById('setDigitNum');
        var guessNumField = document.getElementById('guessField');

        //ë²„íŠ¼
        var digitSubmitBtn = document.getElementsByClassName('setDigitSubmit')[0];
        var guessSubmitBtn = document.getElementsByClassName('guessSubmit')[0];
        
        // ìë¦¿ìˆ˜ë¥¼ ë°›ì•„ì„œ ëœë¤ ìˆ«ìë¥¼ ìƒì„±í•´ì£¼ëŠ” í•¨ìˆ˜
        function makeRanNum(num) {
            var ranNum = 0;
            switch (num) {
                case 1:
                    ranNum = Math.floor(Math.random() * (9) + 1);
                    break;
                case 2:
                    ranNum = Math.floor(Math.random() * (90) + 10);
                    break;
                case 3:
                    ranNum = Math.floor(Math.random() * (900) + 100);
                    break;
                default:
                    ranNum = 0;
                    break;
            };
            console.log(ranNum);
            return ranNum;
        };

        function btnOn(btn){
            btn.disabled = false;
        };

        function btnOff(btn){
            btn.disabled = true;
        };

        function focusOn(field){
            field.focus();
        };

        btnOff(guessSubmitBtn); // => ìë¦¿ìˆ˜ë¥¼ ì„¤ì •í•˜ê¸° ì „ì—ëŠ” ì •ë‹µí™•ì¸ ë²„íŠ¼ì„ ë¹„í™œì„±í™”

        digitSubmitBtn.addEventListener('click', function () {

            digitNum = Number(digitNumField.value);
            ranNum1 = makeRanNum(digitNum);
            ranNum2 = makeRanNum(digitNum);
            console.log(ranNum1 * ranNum2);
            resultArea.innerHTML = '<span>ì •ë‹µì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>'
            guessNumField.value = '';

            if (ranNum1 === 0 || ranNum2 === 0) {
                alert('1ë¶€í„° 3ê¹Œì§€ì˜ ì •ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                randA.innerHTML = '<sapn id="randA">ëœë¤ê°’A</sapn>';
                randB.innerHTML = '<sapn id="randB">ëœë¤ê°’B</sapn>';
                digitNumField.value = '';
                btnOff(guessSubmitBtn);
                focusOn(digitNumField);
            }else{
                randA.innerHTML = ranNum1; // => ranA ì•ˆì˜ í…ìŠ¤íŠ¸ì— ranNum1 ì…ë ¥
                randB.innerHTML = ranNum2; // => ranA ì•ˆì˜ í…ìŠ¤íŠ¸ì— ranNum2 ì…ë ¥
                btnOn(guessSubmitBtn); // => ì •ë‹µí™•ì¸ ë²„íŠ¼ í™œì„±í™”
                focusOn(guessNumField);
            };
        });

        guessSubmitBtn.addEventListener("click", function(){
            guessNum = Number(guessNumField.value);
            if(ranNum1 * ranNum2 === guessNum){
                resultArea.innerHTML = '<h3> ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</h3>';
                btnOff(guessSubmitBtn);
                focusOn(digitNumField);
            }else{
                resultArea.innerHTML = '<h3>í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í’€ì–´ë³´ì„¸ìš”!</h3>';
                focusOn(guessNumField);
            };
        });

    </script>
</body>

</html>