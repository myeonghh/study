<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>ìˆ«ìì•¼êµ¬ ê²Œì„</title>

    <style>
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }

    </style>
  </head>

  <body>
    <h1>ìˆ«ìì•¼êµ¬ ê²Œì„</h1>

    <li style="margin-bottom:5px;">ê²Œì„ì‹œì‘ì„ ëˆ„ë¥´ë©´ ëœë¤ê°’ìœ¼ë¡œ ì„¸ìë¦¬ì˜ ìˆ«ìê°€ ì§€ì •ë©ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">ëœë¤ê°’ ì„¸ìë¦¬ì— í‘œì‹œë˜ëŠ” ê°ê°ì˜ ìˆ«ìëŠ” 0ì´ ë‚˜ì˜¬ ìˆ˜ ì—†ìœ¼ë©° ì„œë¡œ ì¤‘ë³µê°’ì´ ìˆì–´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">ìœ ì €ëŠ” ì„ì˜ ì„¸ìë¦¬ë¥¼ ê¸°ë¡í•´ì„œ ë§ëŠ”ì§€ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">íšŒë³„ë¡œ ê¸°ë¡í•œ ìˆ«ìì™€ ì„¤ì •ëœìˆ«ìë¥¼ ë¹„êµí•´ì„œ ìƒí™©ì„ í‘œí˜„í•´ ì¤ë‹ˆë‹¤.</li>
    <li style="margin-bottom:5px;">ì•¼êµ¬ê²Œì„ì´ë‹ˆ 9íšŒì•ˆì— ë§ì¶”ê³  ì‹¤íŒ¨ì‹œ íŒ¨ë°°ì…ë‹ˆë‹¤.</li>
    <div class="setDigitForm">
      <input type="submit" value="ê²Œì„ì‹œì‘" class="setDigitSubmit">
    </div>
	
    <div class="form" style="margin-top:40px;">
      <input type="text" id="guessField" class="guessField" maxlength="3">
      <input type="submit" value="ì •ë‹µí™•ì¸" class="guessSubmit">
    </div>

    <div class="resultArea" style="margin-top:40px;">
      <span>ì •ë‹µì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>
    </div>

    <script>
      /** 
        # ì¬ë ¹ì”¨ë¥¼ ìœ„í•œ ê²Œì„ë£° #
        
		ì •ë‹µì´ 176 ì´ë¼ê³  í–ˆì„ë•Œ
		1. 485 - ë“¤ì–´ë§ëŠ” ìˆ«ìê°€ ì•„ì˜ˆ ì—†ìœ¼ë¯€ë¡œ ì•„ì›ƒ. ì´ë•Œë¶€í„° 4, 5, 8ì´ í›„ë³´ì—ì„œ ë¹ ì§€ë¯€ë¡œ ë‚¨ëŠ” ìˆ«ìëŠ” 1, 2, 3, 6, 7, 9ë‹¤  (resultArea ì•ˆì— ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„  1íšŒ: OUT)
		2. 312 - 1ì´ ìˆì§€ë§Œ ìœ„ì¹˜ê°€ ë‹¤ë¥´ë¯€ë¡œ 1ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  2íšŒ: 1ë³¼)
		3. 167 - ìˆ«ìëŠ” ì „ë¶€ ë§ì§€ë§Œ ìœ„ì¹˜ëŠ” 1ë§Œ ë§ê³  ë‚˜ë¨¸ì§€ ë‘˜ì€ ë‹¤ë¥´ë¯€ë¡œ 1ìŠ¤íŠ¸ë¼ì´í¬ 2ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  3íšŒ: 1S 2B)
		4. 671 - ìˆ«ìëŠ” ì „ë¶€ ë§ì§€ë§Œ ìœ„ì¹˜ëŠ” ë‹¤ë¥´ë¯€ë¡œ 3ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  4íšŒ: 3B)
		5. 176 - ì „ë¶€ ë§ìœ¼ë¯€ë¡œ ìŠ¹ë¦¬ (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  5íšŒ: 3S ìŠ¹ë¦¬!)     
      */
      	
        // 1. ëœë¤ê°’ìœ¼ë¡œ ì„¸ìë¦¬ì˜ ìˆ«ìë¥¼ ì§€ì •
        // 1-2. ëœë¤ê°’ ê°ê°ì˜ ìˆ«ìëŠ” 0ì´ ë‚˜ì˜¬ ìˆ˜ ì—†ìœ¼ë©°, ì„œë¡œ ì¤‘ë³µì´ ì•ˆë˜ê²Œ í•œë‹¤.
        // 2. ì‚¬ìš©ìê°€ ì„ì˜ì˜ ì„¸ìë¦¬ë¥¼ ì…ë ¥í•´ì„œ ë§ëŠ”ì§€ ê²°ê³¼ë¥¼ í™•ì¸
        // 2-2. íšŒë³„ë¡œ ì…ë ¥í•œ ìˆ«ìì™€ ì§€ì •ëœ ìˆ«ìë¥¼ ë¹„êµí•´ì„œ ìƒí™©ì„ ê²°ê³¼ì°½ì— ë‚˜íƒ€ë‚´ì¤Œ.
        // 2-3. ê¸°íšŒëŠ” 9ë²ˆ
        var ranNum;
        var ranNumArr = [];
        var chance;
        var strike;
        var ball;
        var guessValuesArr = [];
        var resultText;

        var guessField = document.getElementById("guessField");
        var resultArea = document.getElementsByClassName("resultArea")[0];
        var resultAreaDefault = document.getElementsByClassName("resultArea")[0].getElementsByTagName('span')[0];
        var gameStartBtn = document.getElementsByClassName('setDigitSubmit')[0];
        var guessSubmitBtn = document.getElementsByClassName('guessSubmit')[0];
        
        function btnOn(btn){
            btn.disabled = false;
        };

        function btnOff(btn){
            btn.disabled = true;
        };

        function makeRanNum(){
            for(var i = 0; i < 3; i++){
                ranNum = Math.floor(Math.random() * (9) + 1);

                if(ranNumArr.indexOf(ranNum) === -1){
                    ranNumArr.push(ranNum);
                }else{
                    i--;
                };

                if(ranNumArr.length > 3){
                    ranNumArr.splice(0, 3);
                };
            };
        };

        btnOff(guessSubmitBtn);

        gameStartBtn.addEventListener('click' , function(){
            chance = 0;
            resultArea.innerHTML = '<span>ì •ë‹µì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>';
            guessField.value = '';
            guessField.focus();
            btnOn(guessSubmitBtn);
            makeRanNum();

            console.log(ranNumArr);
        });
            
        guessSubmitBtn.addEventListener('click', function(){
            chance++;
            strike = 0;
            ball = 0;
            guessField.focus();
            guessValuesArr = guessField.value.split('');
            console.log(guessValuesArr);

            for(var i = 0; i < ranNumArr.length; i++){
                if(Number(guessValuesArr[i]) === ranNumArr[i]){
                    strike++;
                }else if(ranNumArr.indexOf(Number(guessValuesArr[i])) !== -1){
                    ball++;
                };
            };

            resultText = chance + 'íšŒ => ' + guessField.value + ' (' + strike + 'S, ' + ball+ 'B)';
            if(strike === 3){
                resultArea.innerHTML += '<h3>' + resultText + ' ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤. ìŠ¹ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤!! ğŸ“Œ ì •ë‹µ : ' + ranNumArr.join('') + ' ğŸ“Œ</h3>';
                btnOff(guessSubmitBtn);
            }else{
                if(chance < 9){
                    resultArea.innerHTML += '<h3>' + resultText + '</h3>';
                }else{
                    resultArea.innerHTML += '<h3>'  + resultText + '</h3>';
                    resultArea.innerHTML += '<h3> íŒ¨ë°° í•˜ì˜€ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë„ì „í•´ ë³´ì„¸ìš”!! ğŸ“Œ ì •ë‹µ : ' + ranNumArr.join('') + ' ğŸ“Œ</h3>';
                    btnOff(guessSubmitBtn);
                };
            };
        });

    </script>
  </body>
</html>
